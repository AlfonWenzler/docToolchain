//tag::exportChangeLog[]
task exportChangeLog(
        description: 'exports the change log from a git subpath',
        group: 'docToolchain'
) doLast {
    // https://git-scm.com/docs/pretty-formats
    def changes = "git log --pretty=format:\"| %ad %n| %an %n| %s %n\" --date=short ./src/docs/arc42".execute().text
    def path = './build/docs/'
    new File(path).mkdirs()
    def changelog = new File(path + 'changelog.adoc')
    changelog.write(changes)
}
//end::exportChangeLog[]
